---
// src/components/Testimonials.astro
---

<div class="testimonial-slider">
    <div class="testimonial-container">
        <div class="testimonial-card">
            <div class="testimonial-content">
                <img src="/images/testimonial-1.jpg" alt="Member Testimonial" class="testimonial-avatar">
                <div class="testimonial-text">
                    "Joining Spartacus was the best decision I made during my time at university. I've improved my strength significantly and made lifelong friends in the process. The coaching and supportive environment helped me achieve PRs I never thought possible."
                </div>
                <div class="testimonial-author">Lisa K.</div>
                <div class="testimonial-role">Member for 2 years</div>
            </div>
        </div>
        
        <div class="testimonial-card">
            <div class="testimonial-content">
                <img src="/images/testimonial-2.jpg" alt="International Student Testimonial" class="testimonial-avatar">
                <div class="testimonial-text">
                    "As an international student, Spartacus helped me find a community. The coaches are incredibly knowledgeable and everyone is supportive regardless of your experience level. It's become my home away from home."
                </div>
                <div class="testimonial-author">Miguel S.</div>
                <div class="testimonial-role">Exchange Student</div>
            </div>
        </div>
        
        <div class="testimonial-card">
            <div class="testimonial-content">
                <img src="/images/testimonial-3.jpg" alt="Competitive Powerlifter Testimonial" class="testimonial-avatar">
                <div class="testimonial-text">
                    "I joined in my second year and have been loving it. I'm an officially coached athlete now and it's amazing! The competition opportunities and training environment have helped me progress faster than I ever expected."
                </div>
                <div class="testimonial-author">Emma L.</div>
                <div class="testimonial-role">Competitive Powerlifter</div>
            </div>
        </div>
    </div>
    
    <div class="slider-controls">
        <button class="slider-btn prev" aria-label="Previous testimonial">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="slider-btn next" aria-label="Next testimonial">
            <i class="fas fa-chevron-right"></i>
        </button>
    </div>
</div>

<script>
    // Testimonial Slider Functionality
    document.addEventListener('DOMContentLoaded', function() {
        const slider = document.querySelector('.testimonial-container');
        const cards = document.querySelectorAll('.testimonial-card');
        const prevBtn = document.querySelector('.slider-btn.prev');
        const nextBtn = document.querySelector('.slider-btn.next');
        
        let currentIndex = 0;
        
        function updateSlider() {
            slider.style.transform = `translateX(-${currentIndex * 100}%)`;
        }
        
        function nextSlide() {
            currentIndex = (currentIndex + 1) % cards.length;
            updateSlider();
        }
        
        function prevSlide() {
            currentIndex = (currentIndex - 1 + cards.length) % cards.length;
            updateSlider();
        }
        
        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);
        
        // Auto-advance every 5 seconds
        setInterval(nextSlide, 5000);
    });
</script>
